<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ChatLink - Real-time Chat Application v2</title>

    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Loading Spinner -->
    <div id="loading" class="loading-overlay">
        <div class="loading-spinner"></div>
        <p>Loading ChatLink...</p>
    </div>

    <!-- Main App Container -->
    <div id="app" class="app-container hidden">
        
        <!-- Welcome Screen -->
        <div id="welcome-screen" class="welcome-screen">
            <div class="welcome-content">
                <div class="welcome-header">
                    <h1>ğŸ’¬ ChatLink</h1>
                    <p>Connect instantly with secure chat rooms and invite links</p>
                </div>
                
                <div class="welcome-actions">
                    <button class="btn btn--primary btn--lg" id="login-btn">Login</button>
                    <button class="btn btn--secondary btn--lg" id="register-btn">Register</button>
                    <div class="divider">
                        <span>or</span>
                    </div>
                    <div class="invite-join">
                        <input type="text" class="form-control" id="invite-code-input" placeholder="Enter invite code (e.g., demo123)">
                        <button class="btn btn--outline" id="join-invite-btn">Join Chat</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Auth Forms -->
        <div id="auth-modal" class="modal hidden">
            <div class="modal-backdrop"></div>
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="auth-title">Login</h3>
                    <button class="modal-close" id="close-auth">&times;</button>
                </div>
                <div class="modal-body">
                    <!-- Login Form -->
                    <form id="login-form" class="auth-form">
                        <div class="form-group">
                            <label class="form-label">Email</label>
                            <input type="email" class="form-control" id="login-email" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Password</label>
                            <input type="password" class="form-control" id="login-password" required>
                        </div>
                        <button type="submit" class="btn btn--primary btn--full-width">Login</button>
                        <p class="auth-switch">Don't have an account? <a href="#" id="switch-to-register">Register here</a></p>
                    </form>

                    <!-- Register Form -->
                    <form id="register-form" class="auth-form hidden">
                        <div class="form-group">
                            <label class="form-label">Username</label>
                            <input type="text" class="form-control" id="register-username" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Email</label>
                            <input type="email" class="form-control" id="register-email" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Password</label>
                            <input type="password" class="form-control" id="register-password" required>
                        </div>
                        <button type="submit" class="btn btn--primary btn--full-width">Register</button>
                        <p class="auth-switch">Already have an account? <a href="#" id="switch-to-login">Login here</a></p>
                    </form>
                </div>
            </div>
        </div>

        <!-- Dashboard -->
        <div id="dashboard" class="dashboard hidden">
            <div class="dashboard-header">
                <div class="user-info">
                    <img id="user-avatar" class="user-avatar" src="" alt="User">
                    <div class="user-details">
                        <h3 id="user-name"></h3>
                        <span class="status status--success" id="user-status">Online</span>
                    </div>
                </div>
                <button class="btn btn--outline" id="logout-btn">Logout</button>
            </div>

            <div class="dashboard-content">
                <div class="dashboard-section">
                    <h4>Your Chat Rooms</h4>
                    <div id="room-list" class="room-list">
                        <!-- Rooms will be populated here -->
                    </div>
                </div>

                <div class="dashboard-section">
                    <h4>Create New Room</h4>
                    <div class="create-room-form">
                        <input type="text" class="form-control" id="room-name" placeholder="Room name (optional)">
                        <button class="btn btn--primary" id="create-room-btn">Create Room</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Chat Room -->
        <div id="chat-room" class="chat-room hidden">
            <div class="chat-header">
                <button class="btn btn--outline btn--sm" id="back-to-dashboard">â† Back</button>
                <div class="chat-info">
                    <h3 id="chat-room-name"></h3>
                    <div class="participants">
                        <span id="participant-count"></span>
                        <div id="online-users" class="online-users"></div>
                    </div>
                </div>
                <div class="chat-actions">
                    <button class="btn btn--outline btn--sm" id="share-invite-btn">Share Invite</button>
                    <button class="btn btn--outline btn--sm" id="theme-toggle">ğŸŒ™</button>
                </div>
            </div>

            <div class="chat-messages" id="chat-messages">
                <!-- Messages will be populated here -->
            </div>

            <div class="typing-indicator hidden" id="typing-indicator">
                <span>Someone is typing...</span>
            </div>

            <div class="chat-input-area">
                <div class="file-upload-area" id="file-upload-area">
                    <div class="file-upload-overlay">
                        <div class="file-upload-content">
                            <div class="file-upload-icon">ğŸ“</div>
                            <p>Drop files here to share</p>
                        </div>
                    </div>
                </div>
                
                <div class="chat-input">
                    <input type="file" id="file-input" multiple style="display: none;">
                    <button class="btn btn--outline btn--sm" id="attach-btn">ğŸ“</button>
                    <input type="text" class="form-control" id="message-input" placeholder="Type your message...">
                    <button class="btn btn--primary btn--sm" id="emoji-btn">ğŸ˜€</button>
                    <button class="btn btn--primary" id="send-btn">Send</button>
                </div>
            </div>
        </div>

        <!-- Invite Share Modal -->
        <div id="invite-modal" class="modal hidden">
            <div class="modal-backdrop"></div>
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Share Invite Link</h3>
                    <button class="modal-close" id="close-invite">&times;</button>
                </div>
                <div class="modal-body">
                    <p>Share this link to invite others to your chat room:</p>
                    <div class="invite-link-container">
                        <input type="text" class="form-control" id="invite-link" readonly>
                        <button class="btn btn--primary" id="copy-invite-btn">Copy</button>
                    </div>
                    <div class="invite-stats">
                        <p><strong>Invite Code:</strong> <span id="invite-code"></span></p>
                        <p><strong>Uses:</strong> <span id="invite-usage"></span></p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Emoji Picker -->
        <div id="emoji-picker" class="emoji-picker hidden">
            <div class="emoji-grid">
                <span class="emoji-option">ğŸ˜€</span><span class="emoji-option">ğŸ˜‚</span><span class="emoji-option">ğŸ˜</span><span class="emoji-option">ğŸ˜Š</span>
                <span class="emoji-option">ğŸ˜</span><span class="emoji-option">ğŸ¤”</span><span class="emoji-option">ğŸ˜´</span><span class="emoji-option">ğŸ˜­</span>
                <span class="emoji-option">â¤ï¸</span><span class="emoji-option">ğŸ‘</span><span class="emoji-option">ğŸ‘</span><span class="emoji-option">ğŸ”¥</span>
                <span class="emoji-option">ğŸ’¯</span><span class="emoji-option">ğŸ‰</span><span class="emoji-option">ğŸš€</span><span class="emoji-option">â­</span>
            </div>
        </div>

        <!-- Media Viewer -->
        <div id="media-viewer" class="media-viewer hidden">
            <div class="media-viewer-backdrop"></div>
            <div class="media-viewer-content">
                <button class="media-viewer-close">&times;</button>
                <img id="media-viewer-image" src="" alt="">
                <div class="media-viewer-info">
                    <p id="media-viewer-filename"></p>
                    <button class="btn btn--primary btn--sm" id="media-viewer-download">Download</button>
                </div>
            </div>
        </div>

        <!-- Notifications -->
        <div id="notifications" class="notifications"></div>
    </div>

    <script src="app.js"></script>
</body>
</html>
